# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание данных
__IProductItem__ - _Интерфейс_ описывает информацию о продукте: его идентификатор (id), описание товара (description? - необязательное поле), изображение (id), название (title), категорию товара (category) и цену (price);
__IBasketCounter__ - _Интерфейс_ представляет счетчик(количество) товаров в корзине (counter);
__IBasketItem__ - Этот _тип_ описывает отдельный товар в корзине: идентификатор, название и цену товара;
__IBasket__ - _Интерфейс_ представляет корзину с товарами: массив товаров (data) и общую цену корзины (price);
__IOrderForm__ - _Интерфейс_ описывает данные формы заказа: способ оплаты (payment), адрес доставки (address), электронная почта (email) и телефон клиента (phone);
__IOrderResult__ - _Интерфейс_ описывает результат заказа, включает общую стоимость (price).

## Модели данных 
__ProductModel__ Класс для управления товарами. Методы:
- `initProducts(products: IProductItem[]): void` Метод для инициализации массива карточек товаров. Принимает массив объектов - карточки товаров. Этот метод будет использоваться для загрузки товаров с сервера;
- `openProductPopup(productId: string): void` Метод для открытия товара с подробным описанием в отдельном попапе. Принимает идентификатор товара (productId), который нужно открыть в попапе. Этот метод будет вызываться при нажатии на карточку товара для отображения подробной информации о товаре;
- `addToCart(productId: string): void` Метод для добавления товара в корзину. Принимает идентификатор товара (productId), который нужно добавить в корзину. Этот метод будет вызываться при нажатии на кнопку "Добавить в корзину" на карточке товара, открытой в попапе.
__BasketModel__ Класс для управления корзиной и оформлением заказа. Методы:
- `removeFromCart(productId: string): void` Метод для удаления товара из корзины. Принимает идентификатор товара (productId), который нужно удалить из корзины. Этот метод будет вызываться при нажатии на кнопку удаления товара из корзины.
- `calculateTotalPrice(): number` Метод для подсчета общей стоимости товаров в корзине. Возвращает общую стоимость всех товаров, находящихся в корзине. Этот метод будет использоваться для отображения общей суммы покупки перед оформлением заказа и в конце оформления заказа.
- `validateOrderForm(orderFormData: IOrderForm): boolean` Метод для валидации данных при оформлении заказа. Принимает объект (orderFormData) с данными формы заказа (IOrderForm) и возвращает логическое значение. Этот метод будет вызываться при заполнении пользователем данных заказа для проверки правильности введенных значений.
-  `submitOrderForm(orderFormData: IOrderForm): boolean` Метод принимает объект (orderFormData) с данными формы заказа (IOrderForm). Он выполняет логику отправки этих данных на сервер и возвращает логическое значение (всегда true, в нашем случае).

## Компоненты представления
__Component<T>__ - _абстрактный класс_ для наследования другими компонентами, которые будут реализовывать конкретную функциональность интерфейса.
Методы класса:
- constructor(container: HTMLElement): Конструктор класса, который принимает контейнер, в который будет рендериться компонент (карточка товара);
- toggleClass(element: HTMLElement, className: string, force?: boolean) - переключение класса элемента (отображение модальных окон);
- setText(element: HTMLElement, value: unknown) - установка текстового содержимого элемента.
- setDisabled(element: HTMLElement, state: boolean) - установка состояния блокировки элемента (кнопок при валидации);
- setHidden(element: HTMLElement) - скрытие элемента;
- setVisible(element: HTMLElement) - отображения элемента;
- setImage(element: HTMLImageElement, src: string, alt?: string) - установка изображения и альтернативного текста.
- render(data?: Partial<T>): HTMLElement - отображение компонента. Принимает данные в виде объекта типа T и возвращает корневой DOM-элемент.

__ProductCard__ - Карточка товара. Этот компонент отображает информацию о товаре, такую как изображение, название, цена и категория.  
Методы:  
render(product: Product): HTMLElement: Генерирует разметку карточки товара на основе данных о товаре.  
__ProductPopup__ Попап с подробным описанием товара.  
Этот компонент отображает подробное описание товара во всплывающем окне.  
Методы:  
render(product: Product): HTMLElement: Генерирует разметку попапа с подробным описанием товара на основе данных о товаре.  
__Basket__ Корзина. Этот компонент отображает список товаров в корзине и общую стоимость заказа.  
Методы:  
render(basket: Basket): HTMLElement: Генерирует разметку корзины на основе данных о товарах в корзине.  
__OrderForm__ Форма оформления заказа.  
Этот компонент представляет форму для ввода данных заказа, таких как адрес доставки, электронная почта и телефон.  
Методы:  
render(): HTMLElement: Генерирует разметку формы оформления заказа.  
__OrderResult__ Результат оформления заказа.  
Этот компонент отображает результат оформления заказа, например, общую стоимость заказа.  
Методы:  
render(orderResult: OrderResult): HTMLElement: Генерирует разметку с результатом оформления заказа на основе данных о заказе.  

## Описание событий
Будем использовать EventEmitter для работы с событиями в коде приложения.

События, связанные с изменением данных:
- `items:changed` Событие возникает при изменении списка карточек товаров (на сервере). Действие: необходимо перерисовать список карточек товаров на странице (при загрузке страницы);
- `basket:changed` Событие возникает при изменении содержимого корзины. Действие: необходимо обновить отображение содержимого корзины, включая общую стоимость и количество товаров;
- `orderForm:validated` Событие возникает после успешной валидации данных формы оформления заказа. Действие: можно разрешить отправку формы;
- `orderPlaced` Событие возникает после успешного оформления заказа. Действие: необходимо очистить корзину и отобразить сообщение об успешном оформлении заказа, а также - итоговую сумму заказа.

Cобытия, генерируемые компонентами представления:
- `card:selected` Событие возникает при выборе карточки товара пользователем. Действие: выбранная карточка сохраняется для дальнейшего отображения в отдельном попапе с подробным описанием;
- `addToCard` Событие возникает при нажатии на кнопку "В корзину" на карточке товара, открытой в попапе. Действие: товар добавляется в корзину;
- `removeFromCard` Событие возникает при нажатии на кнопку "Удалить" в корзине для конкретного товара. Действие: товар удаляется из корзины;
- `orderFormSubmitted` Событие возникает при отправке формы оформления заказа. Действие: данные формы отправляются для валидации и последующего оформления заказа.
